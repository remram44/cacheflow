{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/App.vue?96ec","webpack:///./src/components/Canvas.vue?16d1","webpack:///./src/components/Step.vue?218e","webpack:///./src/utils.js","webpack:///src/components/Step.vue","webpack:///./src/components/Step.vue?16f4","webpack:///./src/components/Step.vue","webpack:///./src/components/Port.vue?740d","webpack:///src/components/Port.vue","webpack:///./src/components/Port.vue?e88a","webpack:///./src/components/Port.vue","webpack:///./src/components/Connection.vue?4395","webpack:///src/components/Connection.vue","webpack:///./src/components/Connection.vue?eba7","webpack:///./src/components/Connection.vue","webpack:///src/components/Canvas.vue","webpack:///./src/components/Canvas.vue?5d92","webpack:///./src/components/Canvas.vue","webpack:///./src/components/Library.vue?826c","webpack:///src/components/Library.vue","webpack:///./src/components/Library.vue?b874","webpack:///./src/components/Library.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/Connection.vue?1bdf","webpack:///./src/components/Step.vue?76bc","webpack:///./src/components/Port.vue?b1a6","webpack:///./src/components/Canvas.vue?aabc","webpack:///./src/components/Library.vue?bcc2"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","workflow","on","removeStep","moveStep","addStep","staticRenderFns","staticClass","_l","step","setPort","$event","port","startConnection","grabConnection","connection","source","dest","newConnection","_e","style","type","indexOf","_k","keyCode","button","target","currentTarget","preventDefault","mousedown","remove","_v","_s","component","output","input","domProps","changeInput","sortByKey","array","sort","a","b","uuid4","replace","Math","random","v","toString","props","computed","inputs","entries","methods","sendUpdate","$emit","console","log","input_name","event","document","addEventListener","mouseup","mousemove","offset","removeEventListener","position","mounted","$nextTick","updated","beforeDestroy","mousemoved","undefined","class","path","ports","connections","step_output_index","step_id","step_output_count","count","step_input_index","$set","$delete","e","source_step","source_port","clientX","clientY","connectionMouseUp","connectionMouseMove","min_sqdist","sqdist","min_port","steps","port_name","source_output","components","Step","Port","Connection","add","dataset","outputs","plot","table","x","y","Canvas","Library","Vue","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.91f41349.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/cacheflow/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Canvas',{attrs:{\"workflow\":_vm.workflow},on:{\"stepremove\":_vm.removeStep,\"stepmove\":_vm.moveStep}}),_c('Library',{on:{\"add\":_vm.addStep}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"canvas\"},_vm._l((_vm.workflow.steps),function(step,name){return _c('Step',{key:name,attrs:{\"step\":step,\"name\":name},on:{\"setport\":_vm.setPort,\"stepmove\":_vm.moveStep,\"remove\":function($event){return _vm.removeStep(name)}}})}),1),_c('svg',{staticClass:\"canvas ports\"},_vm._l((this.ports),function(port){return _c('Port',{key:port.name,attrs:{\"port\":port},on:{\"startconnection\":_vm.startConnection,\"grabconnection\":_vm.grabConnection}})}),1),_c('svg',{staticClass:\"canvas connections\"},[_vm._l((_vm.connections),function(connection){return _c('Connection',{key:connection.key,attrs:{\"source\":connection.source,\"dest\":connection.dest}})}),(_vm.newConnection != null)?_c('Connection',{attrs:{\"source\":_vm.newConnection.source,\"dest\":_vm.newConnection.dest}}):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"step\",style:(_vm.style),on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }if($event.target !== $event.currentTarget){ return null; }$event.preventDefault();return _vm.mousedown($event)}}},[_c('a',{staticClass:\"close\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }$event.preventDefault();return _vm.remove($event)}}},[_vm._v(\"[x]\")]),_c('h2',[_vm._v(_vm._s(_vm.step.component.type))]),_c('table',{staticClass:\"outputs\"},_vm._l((_vm.step.outputs),function(output){return _c('tr',{key:output},[_c('td',[_vm._v(\"???\")]),_c('td',[_vm._v(_vm._s(output))])])}),0),_c('table',{staticClass:\"inputs\"},_vm._l((_vm.inputs),function(input){return _c('tr',{key:input[0]},[_c('td',[_vm._v(_vm._s(input[0]))]),_c('td',[(input[1] !== null)?_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":input[1]},on:{\"change\":function($event){return _vm.changeInput(input[0], $event)}}}):_vm._e()])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function sortByKey(array, key) {\n  array.sort(function(a, b) {\n    if(key(a) < key(b)) {\n      return -1;\n    } else if(key(a) > key(b)) {\n      return 1;\n    } else {\n      return 0;\n    }\n  });\n}\n\n// https://stackoverflow.com/a/2117523\nexport function uuid4() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}\n","<template>\n  <div\n    class=\"step\" :style=style\n    v-on:mousedown.left.self.prevent=\"mousedown\"\n    >\n    <a class=\"close\" v-on:click.self.prevent=\"remove\">[x]</a>\n    <h2>{{step.component.type}}</h2>\n    <table class=\"outputs\">\n      <tr v-for=\"output of step.outputs\" :key=\"output\">\n        <td>???</td>\n        <td>{{output}}</td>\n      </tr>\n    </table>\n    <table class=\"inputs\">\n      <tr v-for=\"input of inputs\" :key=\"input[0]\">\n        <td>{{input[0]}}</td>\n        <td>\n          <input\n            type=\"text\" v-if=\"input[1] !== null\"\n            :value=\"input[1]\"\n            v-on:change=\"changeInput(input[0], $event)\"\n            />\n        </td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nimport { sortByKey } from '../utils.js'\n\nexport default {\n  name: 'Step',\n  props: ['name', 'step'],\n  computed: {\n    inputs: function() {\n      let entries = Object.entries(this.step.inputs);\n      sortByKey(entries, function(o) { return o[0]; });\n      for(let i = 0; i < entries.length; ++i) {\n        if(entries[i][1].length == 0) {\n          entries[i][1] = \"\";\n        } else if(typeof entries[i][1][0] != \"string\") {\n          entries[i][1] = null;\n        }\n      }\n      return entries;\n    },\n    style: function() {\n      return `left: ${this.step.position[0]}px; top: ${this.step.position[1]}px;`;\n    },\n  },\n  methods: {\n    sendUpdate: function() {\n      // Send output port information\n      let output_rows = this.$el.querySelectorAll(\".outputs tr\");\n      for(let i = 0; i < output_rows.length; ++i) {\n        let rect = output_rows[i].getBoundingClientRect();\n        this.$emit(\n          'setport',\n          {\n            name: `${this.name}.out.${this.step.outputs[i]}`,\n            type: 'output',\n            step: this.name, port_name: this.step.outputs[i],\n            position: [rect.right + 6, (rect.top + rect.bottom) / 2],\n          },\n        );\n      }\n\n      // Send input port information\n      let input_rows = this.$el.querySelectorAll(\".inputs tr\");\n      for(let i = 0; i < input_rows.length; ++i) {\n        let rect = input_rows[i].getBoundingClientRect();\n        this.$emit(\n          'setport',\n          {\n            name: `${this.name}.in.${this.inputs[i][0]}`,\n            type: 'input',\n            step: this.name, port_name: this.inputs[i][0],\n            position: [rect.left - 6, (rect.top + rect.bottom) / 2],\n          },\n        );\n      }\n    },\n    changeInput: function(input_name, event) {\n      // TODO: Notify of input change\n      console.log(\"Step \", this.name, \" input \", input_name, \" changed to \", event.target.value);\n    },\n    mousedown: function(event) {\n      document.addEventListener('mouseup', this.mouseup);\n      document.addEventListener('mousemove', this.mousemove);\n      this.offset = [\n        this.step.position[0] - event.clientX,\n        this.step.position[1] - event.clientY,\n      ];\n    },\n    mouseup: function() {\n      document.removeEventListener('mouseup', this.mouseup);\n      document.removeEventListener('mousemove', this.mousemove);\n      this.$emit('stepmove', {name: this.name, position: this.step.position});\n    },\n    mousemove: function(event) {\n      event.preventDefault();\n      this.step.position = [\n        event.clientX + this.offset[0],\n        event.clientY + this.offset[1],\n      ];\n    },\n    remove: function() {\n      this.$emit(\"remove\");\n    },\n  },\n  mounted: function() {\n    this.$nextTick(this.sendUpdate);\n  },\n  updated: function() {\n    this.$nextTick(this.sendUpdate);\n  },\n  beforeDestroy: function() {\n    // Remove event listeners\n    document.removeEventListener('mousemove', this.mousemoved);\n    document.removeEventListener('mouseup', this.mouseup);\n\n    // Destroy output ports\n    for(let output of this.step.outputs) {\n      this.$emit(\n        'setport',\n        {\n          name: `${this.name}.out.${output}`,\n          position: undefined,\n        },\n      );\n    }\n\n    // Destroy input ports\n    for(let input of this.inputs) {\n      this.$emit(\n        'setport',\n        {\n          name: `${this.name}.in.${input[0]}`,\n          position: undefined,\n        },\n      );\n    }\n  },\n}\n</script>\n\n<style scoped>\n.step {\n  position: absolute;\n  width: 200px;\n  border: 2px solid black;\n  border-radius: 15px;\n  padding: 6px;\n  z-index: 10;\n  background-color: white;\n}\n\n.step * {\n  pointer-events: none;\n}\n\n.step h2 {\n  text-align: center;\n  margin: 0;\n  height: 32px;\n}\n\n.step td {\n  font-size: 0.85rem;\n}\n\n.step input {\n  min-width: 0;\n  width: 100%;\n  box-sizing: border-box;\n  pointer-events: auto;\n}\n\n.step table.inputs {\n  margin-right: auto;\n  padding: 0;\n  border-collapse: collapse;\n}\n\n.step table.inputs tr, .step table.inputs td {\n  padding: 0 2px 0 2px;\n}\n\n.step table.outputs {\n  margin-left: auto;\n  padding: 0;\n  border-collapse: collapse;\n}\n\n.step table.outputs tr, .step table.outputs td {\n  padding: 0 2px 0 2px;\n}\n\na.close {\n  position: absolute;\n  right: 6px;\n  top: 6px;\n  pointer-events: auto;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Step.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Step.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Step.vue?vue&type=template&id=83005308&scoped=true&\"\nimport script from \"./Step.vue?vue&type=script&lang=js&\"\nexport * from \"./Step.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Step.vue?vue&type=style&index=0&id=83005308&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"83005308\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('circle',{class:_vm.port.type,attrs:{\"cx\":_vm.port.position[0],\"cy\":_vm.port.position[1]},on:{\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }if($event.target !== $event.currentTarget){ return null; }$event.preventDefault();return _vm.mousedown($event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <circle\n    :cx=\"port.position[0]\" :cy=\"port.position[1]\"\n    :class=\"port.type\"\n    v-on:mousedown.left.self.prevent=\"mousedown\"\n    />\n</template>\n\n<script>\nexport default {\n  name: 'Port',\n  props: ['port'],\n  methods: {\n    mousedown: function() {\n      if(this.port.type == 'output') {\n        this.$emit('startconnection', this.port.name);\n      } else {\n        this.$emit('grabconnection', this.port.name);\n      }\n    },\n  },\n}\n</script>\n\n<style scoped>\ncircle.output {\n  r: 6px;\n  stroke: black;\n  fill: grey;\n  pointer-events: auto;\n}\n\ncircle.input {\n  r: 6px;\n  stroke: black;\n  fill: yellow;\n  pointer-events: auto;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Port.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Port.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Port.vue?vue&type=template&id=0219e024&scoped=true&\"\nimport script from \"./Port.vue?vue&type=script&lang=js&\"\nexport * from \"./Port.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Port.vue?vue&type=style&index=0&id=0219e024&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0219e024\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('path',{staticClass:\"connection\",attrs:{\"d\":_vm.path}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <path :d=\"path\" class=\"connection\"/>\n</template>\n\n<script>\nexport default {\n  name: 'Connection',\n  props: ['source', 'dest'],\n  computed: {\n    path: function() {\n      let [sx, sy] = this.source;\n      let [dx, dy] = this.dest;\n      return `M ${sx} ${sy} C ${sx + 40} ${sy} ${dx - 40} ${dy} ${dx} ${dy}`;\n    },\n  },\n}\n</script>\n\n<style scoped>\npath.connection {\n  stroke: black;\n  fill: none;\n  z-index: 10;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Connection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Connection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Connection.vue?vue&type=template&id=83056670&scoped=true&\"\nimport script from \"./Connection.vue?vue&type=script&lang=js&\"\nexport * from \"./Connection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Connection.vue?vue&type=style&index=0&id=83056670&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"83056670\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"canvas\">\n      <Step\n        v-for=\"(step, name) in workflow.steps\" :key=\"name\"\n        :step=\"step\" :name=\"name\"\n        v-on:setport=\"setPort\"\n        v-on:stepmove=\"moveStep\"\n        v-on:remove=\"removeStep(name)\"\n        />\n    </div>\n    <svg class=\"canvas ports\">\n      <Port\n        v-for=\"port in this.ports\" :key=\"port.name\"\n        :port=\"port\"\n        v-on:startconnection=\"startConnection\"\n        v-on:grabconnection=\"grabConnection\"\n        />\n    </svg>\n    <svg class=\"canvas connections\">\n      <Connection\n        v-for=\"connection of connections\" :key=\"connection.key\"\n        :source=\"connection.source\" :dest=\"connection.dest\"\n        />\n      <Connection\n        v-if=\"newConnection != null\"\n        :source=\"newConnection.source\" :dest=\"newConnection.dest\"\n        />\n    </svg>\n  </div>\n</template>\n\n<script>\nimport Step from './Step.vue'\nimport Port from './Port.vue'\nimport Connection from './Connection.vue'\nimport { sortByKey } from '../utils.js'\n\nexport default {\n  name: 'Canvas',\n  props: ['workflow'],\n  data: function() {\n    return {\n      ports: {},\n      newConnection: null,\n    };\n  },\n  computed: {\n    connections: function() {\n      // Pre-compute port information\n      let step_output_index = {};\n      let step_output_count = {};\n      let step_input_index = {};\n      for(let step_id in this.workflow.steps) {\n        let step = this.workflow.steps[step_id];\n\n        // Index outputs\n        {\n          let count = 0;\n          step_output_index[step_id] = {};\n          for(let output of step.outputs) {\n            step_output_index[step_id][output] = count++;\n          }\n          step_output_count[step_id] = count;\n        }\n\n        // Index inputs\n        {\n          let count = 0;\n          step_input_index[step_id] = {};\n          let inputs = Object.entries(step.inputs);\n          sortByKey(inputs, function(o) { return o[0]; });\n          for(let [input_name,] of inputs) {\n            step_input_index[step_id][input_name] = count++;\n          }\n        }\n      }\n\n      // For each step, for each of its input, for each of its connection\n      let connections = [];\n      for(let step_id in this.workflow.steps) {\n        let step = this.workflow.steps[step_id];\n        for(let input_name in step.inputs) {\n          let input_array = step.inputs[input_name];\n          for(let source of input_array) {\n            if(!(typeof source == \"string\")) {\n              // Get position of source output port\n              let skey = `${source.step}.out.${source.output}`;\n              if(!(skey in this.ports)) {\n                continue;\n              }\n              let spos = this.ports[skey].position;\n\n              // Get position of destination input port\n              let dkey = `${step_id}.in.${input_name}`;\n              if(!(dkey in this.ports)) {\n                continue;\n              }\n              let dpos = this.ports[dkey].position;\n\n              // Add connection to array\n              connections.push({\n                key: `${skey}.${dkey}`,\n                source_step: source.step, source_output: source.output,\n                dest_step: step_id, dest_input: input_name,\n                source: spos, dest: dpos,\n              });\n            }\n          }\n        }\n      }\n      return connections;\n    },\n  },\n  methods: {\n    setPort: function(port) {\n      if(port.position !== undefined) {\n        this.$set(this.ports, port.name, port);\n      } else {\n        this.$delete(this.ports, port.name);\n      }\n    },\n    moveStep: function(e) {\n      this.$emit('stepmove', e);\n    },\n    removeStep: function(name) {\n      this.$emit('stepremove', name);\n    },\n    startConnection: function(port_name) {\n      let source_port = this.ports[port_name];\n      this.newConnection = {\n        key: `${port_name}.`,\n        source_step: source_port.step, source_output: source_port.port_name,\n        source: source_port.position,\n        dest: [event.clientX, event.clientY],\n      };\n      document.addEventListener('mouseup', this.connectionMouseUp);\n      document.addEventListener('mousemove', this.connectionMouseMove);\n    },\n    grabConnection: function(port_name) {\n      let source_port = null;\n      for(let conn of this.connections) {\n        if(`${conn.dest_step}.in.${conn.dest_input}` == port_name) {\n          // Delete that connection\n          let inputs = this.workflow.steps[conn.dest_step].inputs[conn.dest_input];\n          for(let i = 0; i < inputs.length; ++i) {\n            if(typeof inputs[i] == \"string\") {\n              continue;\n            } else if(\n              inputs[i].step == conn.source_step &&\n              inputs[i].output == conn.source_output\n            ) {\n              inputs.splice(i, 1);\n              // TODO: Notify of removed connection\n              console.log(\"Removed connection\");\n              break;\n            }\n          }\n\n          // Make new connection from source port\n          source_port = `${conn.source_step}.out.${conn.source_output}`;\n\n          break;\n        }\n      }\n      if(source_port !== null) {\n        this.startConnection(source_port);\n      }\n    },\n    connectionMouseUp: function(event) {\n      document.removeEventListener('mouseup', this.connectionMouseUp);\n      document.removeEventListener('mousemove', this.connectionMouseMove);\n\n      // Find closest port\n      let min_port = null;\n      let min_sqdist = 150;\n      for(let port_name in this.ports) {\n        let port = this.ports[port_name];\n        if(port.type != 'input') {\n          continue;\n        }\n        let dx = port.position[0] - event.clientX;\n        let dy = port.position[1] - event.clientY;\n        let sqdist = dx * dx + dy * dy;\n        if(sqdist < min_sqdist) {\n          min_sqdist = sqdist;\n          min_port = port;\n        }\n      }\n\n      if(min_port !== null) {\n        this.workflow.steps[min_port.step].inputs[min_port.port_name] = [{\n          step: this.newConnection.source_step,\n          output: this.newConnection.source_output,\n        }];\n        // TODO: Notify of new connection (and removed old inputs)\n        console.log(\n          \"New connection \",\n          `${this.newConnection.source_step}.${this.newConnection.source_output} - ` +\n          `${min_port.step}.${min_port.port_name}`,\n        );\n      }\n\n      this.newConnection = null\n    },\n    connectionMouseMove: function(event) {\n      this.newConnection.dest = [event.clientX, event.clientY];\n    },\n  },\n  beforeDestroy: function() {\n    // Remove event listeners\n    document.removeEventListener('mouseup', this.connectionMouseUp);\n    document.removeEventListener('mousemove', this.connectionMouseMove);\n  },\n  components: {\n    Step,\n    Port,\n    Connection,\n  },\n}\n</script>\n\n<style scoped>\ndiv.canvas {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: #eee;\n}\n\nsvg.canvas {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n}\n\nsvg.ports {\n  z-index: 14;\n  pointer-events: none;\n}\n\nsvg.connections {\n  z-index: 5;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Canvas.vue?vue&type=template&id=0ab8f736&scoped=true&\"\nimport script from \"./Canvas.vue?vue&type=script&lang=js&\"\nexport * from \"./Canvas.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Canvas.vue?vue&type=style&index=0&id=0ab8f736&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ab8f736\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"library\"},[_c('div',[_c('div',[_c('h1',[_vm._v(\"Workflow library\")]),_vm._l((_vm.components),function(component){return _c('p',{key:component.component.type},[_c('button',{on:{\"click\":function($event){return _vm.add(component)}}},[_vm._v(_vm._s(component.name))])])})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"library\">\n    <div>\n      <div>\n        <h1>Workflow library</h1>\n        <p v-for=\"component in components\" :key=\"component.component.type\">\n          <button v-on:click=\"add(component)\">{{ component.name }}</button>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Library',\n  data: function() {\n    return {\n      components: [\n        {\n          name: \"dataset\",\n          component: {type: \"dataset\"},\n          inputs: [\"name\"],\n          outputs: [\"table\"],\n        },\n        {\n          name: \"plot\",\n          component: {type: \"plot\"},\n          inputs: [\"style\", \"table\", \"x\", \"y\"],\n          outputs: [\"plot\"],\n        },\n      ],\n    };\n  },\n  methods: {\n    add: function(component) {\n      this.$emit('add', component);\n    },\n  },\n}\n</script>\n\n<style scoped>\n.library {\n  position: absolute;\n  display: table;\n  height: 100%;\n  right: 10px;\n  top: 0;\n  bottom: 0;\n  z-index: 15;\n}\n\n.library>div {\n  display: table-cell;\n  vertical-align: middle;\n}\n\n.library>div>div {\n  border: 1px solid #aaa;\n  padding: 5px;\n  background-color: white;\n}\n\n.library h1 {\n  font-size: 1.8rem;\n}\n\n.library p {\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Library.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Library.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Library.vue?vue&type=template&id=2ebac7ce&scoped=true&\"\nimport script from \"./Library.vue?vue&type=script&lang=js&\"\nexport * from \"./Library.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Library.vue?vue&type=style&index=0&id=2ebac7ce&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ebac7ce\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <Canvas\n      :workflow=\"workflow\"\n      v-on:stepremove=\"removeStep\" v-on:stepmove=\"moveStep\"\n      />\n\n    <Library\n      v-on:add=\"addStep\"\n      />\n  </div>\n</template>\n\n<script>\nimport Canvas from './components/Canvas.vue'\nimport Library from './components/Library.vue'\nimport { uuid4 } from './utils.js'\n\nexport default {\n  name: 'App',\n  data: function() {\n    return {\n      workflow: {\n        steps: {\n          dataset: {\n            component: {\n              type: \"dataset\"\n            },\n            position: [100, 100],\n            inputs: {\n              name: [\"age.csv\"],\n            },\n            outputs: [\"table\"],\n          },\n          plot: {\n            component: {\n              type: \"plot\"\n            },\n            position: [350, 150],\n            inputs: {\n              table: [{step: \"dataset\", output: \"table\"}],\n              x: [\"name\"],\n              y: [\"age\"],\n              style: [],\n            },\n            outputs: [\"plot\"],\n          },\n        },\n      },\n    };\n  },\n  methods: {\n    addStep: function(component) {\n      let inputs = {};\n      for(let input of component.inputs) {\n        inputs[input] = [];\n      }\n      let name = uuid4();\n      this.$set(\n        this.workflow.steps, name,\n        {\n          component: component.component,\n          position: [10, 10],\n          inputs: inputs,\n          outputs: component.outputs.slice(),\n        },\n      );\n      console.log(\"Step \", name, \" added\");\n    },\n    removeStep: function(name) {\n      this.$delete(this.workflow.steps, name);\n      console.log(\"Step \", name, \" removed\");\n      // TODO: Remove connections from this step\n    },\n    moveStep: function(e) {\n      let {name, position} = e;\n      console.log(\"Step \", name, \" moved to \", position);\n    },\n  },\n  components: {\n    Canvas,\n    Library,\n  },\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4c6de258&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Connection.vue?vue&type=style&index=0&id=83056670&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Connection.vue?vue&type=style&index=0&id=83056670&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Step.vue?vue&type=style&index=0&id=83005308&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Step.vue?vue&type=style&index=0&id=83005308&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Port.vue?vue&type=style&index=0&id=0219e024&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Port.vue?vue&type=style&index=0&id=0219e024&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=style&index=0&id=0ab8f736&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=style&index=0&id=0ab8f736&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Library.vue?vue&type=style&index=0&id=2ebac7ce&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Library.vue?vue&type=style&index=0&id=2ebac7ce&scoped=true&lang=css&\""],"sourceRoot":""}